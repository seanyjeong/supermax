<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>학생 점수 계산</title>
</head>
<body>
  <h1>학생 점수 계산</h1>
  <form id="scoreForm">
    <label for="name">학생 이름:</label>
    <input type="text" id="name" name="name" required><br>

    <label for="school">학교명:</label>
    <select id="school" name="school" required>
      <option value="성신여자대학교">성신여자대학교</option>
      <option value="백석대학교">백석대학교</option>
    </select><br>

    <label for="major">전공:</label>
    <select id="major" name="major" required>
      <option value="스포츠레저전공">스포츠레저전공</option>
      <option value="스포츠과학부">스포츠과학부</option>
    </select><br>

    <button type="submit">계산</button>
  </form>

  <div id="result"></div>

  <script>
    document.getElementById('scoreForm').addEventListener('submit', function(event) {
      event.preventDefault();  // 기본 폼 제출 방지

      const name = document.getElementById('name').value;
      const school = document.getElementById('school').value;
      const major = document.getElementById('major').value;

      // POST 요청을 통해 점수 계산 API 호출
      fetch('https://supermax.kr/api/calculate', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ name, school, major })
      })
      .then(response => response.json())
      .then(data => {
        document.getElementById('result').innerHTML = `<p>${data.name} 학생의 총점: ${data.totalScore}</p>`;
      })
      .catch(error => {
        document.getElementById('result').innerHTML = `<p>점수 계산에 실패했습니다: ${error.message}</p>`;
      });
    });
  </script>
</body>
</html>
